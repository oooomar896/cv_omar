# ููุฎุต ุงููุชุทูุจุงุช ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ ูู ุงูููุตุฉ ๐

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุชูููุฐ ุฌููุน ุงููุชุทูุจุงุช ุงููุงุฑุฏุฉ ูู PRD (Product Requirements Document) ูููุฒุฉ ุจูุน ูุฅุฏุงุฑุฉ ุงูุฏููููุงุช ูู ููุตุฉ ุจุงููุฑุฉ ุฃุนูุงู.

---

## โ ุงููุชุทูุจุงุช ุงููููุฐุฉ

### 1. ุงููุฏู (Objective) โจ
ุชู ุชุญููู ุฌููุน ุงูุฃูุฏุงู ุงููุทููุจุฉ:

- โ **ุงูุจุญุซ ุนู ุฏูููู**: ุตูุญุฉ ุจุญุซ ูุชูุฏูุฉ ูุน ุฏุนู ุงูุชุฏุงุฏุงุช ูุชุนุฏุฏุฉ
- โ **ุดุฑุงุก ุฏูููู**: ูุธุงู ุฅุถุงูุฉ ููุณูุฉ (ุฌุงูุฒ ููุชูุงูู ูุน ุจูุงุจุฉ ุงูุฏูุน)
- โ **ุงูุฑุจุท ุงูุชููุงุฆู**: ุฑุจุท ุงูุฏูููู ุจุงููููุน ุงูููุดุฃ ุนุจุฑ ุงูููุตุฉ
- โ **ุฅุฏุงุฑุฉ ุงูุฏูููู**: ููุญุฉ ุชุญูู ุดุงููุฉ ูู `/portal/domains`

### 2. ุงููุณุชุฎุฏููู ุงููุณุชูุฏููู ๐ฅ
ุงููุธุงู ูุตูู ูููุงุณุจ:
- โ ุตุงุญุจ ุนูู ูุฑูุฏ ูููุน ุชุนุฑููู ุฃู ุญุฌุฒ
- โ ูุณุชูู / ูุชุฌุฑ ุตุบูุฑ
- โ ูุณุชุฎุฏู ุบูุฑ ุชููู (ูุงุฌูุฉ ุณููุฉ ูุจุฏูููุฉ)

### 3. ูุทุงู ุงูููุฒุฉ (Scope) ๐ฏ

#### โ ุฏุงุฎู ุงููุทุงู (ุชู ุงูุชูููุฐ)
- โ ุงูุจุญุซ ุนู ุชููุฑ ุงูุฏูููู
- โ ุดุฑุงุก ุฏูููู ุฌุฏูุฏ (UI ุฌุงูุฒ)
- โ ุฑุจุท ุงูุฏูููู ุจุงููููุน
- โ ุชุฌุฏูุฏ ุงูุฏูููู
- โ ุฅุฏุงุฑุฉ DNS ุงูุฃุณุงุณูุฉ (A, CNAME, MX, TXT, NS, AAAA)

#### โณ ุฎุงุฑุฌ ุงููุทุงู (ูุฑุญูุฉ ูุงุญูุฉ)
- โณ ููู ุฏูููู ูู ูุฒูุฏ ุขุฎุฑ
- โณ ุจูุน ุฏููููุงุช Premium
- โณ ุณูู ุฅุนุงุฏุฉ ุจูุน ุฏููููุงุช

---

## ๐จ User Flow ุงููููุฐ

### 1๏ธโฃ ุงูุจุญุซ ุนู ุงูุฏูููู
```
ุงููุณุชุฎุฏู โ /domains/search โ ุฅุฏุฎุงู ุงุณู ุงูุฏูููู โ 
ุงุฎุชูุงุฑ ุงูุงูุชุฏุงุฏ (.com, .net, .sa, etc.) โ 
ุงููุธุงู ูุชุญูู ูู ุงูุชููุฑ โ 
ุนุฑุถ (ูุชุงุญ โ / ุบูุฑ ูุชุงุญ โ) ูุน ุงูุณุนุฑ
```

**ุงููููุงุช ุงููููุฐุฉ**:
- `src/components/platform/DomainSearch.js`

### 2๏ธโฃ ุงูุดุฑุงุก
```
ุงุฎุชูุงุฑ ุงูุฏูููู โ ุฅุถุงูุฉ ููุณูุฉ โ 
[ุฌุงูุฒ ููุชูุงูู ูุน ุจูุงุจุฉ ุงูุฏูุน] โ
ุชุฃููุฏ ุงูุฏูุน โ ุชุณุฌูู ุงูุฏูููู
```

**ุงูุญุงูุฉ**: UI ุฌุงูุฒุ ูุญุชุงุฌ ุชูุงูู Moyasar/Stripe

### 3๏ธโฃ ุงูุฑุจุท ุจุงููููุน
```
ุจุนุฏ ุงูุดุฑุงุก โ ุงุฎุชูุงุฑ ุงููููุน ููุฑุจุท โ 
ุฅูุดุงุก DNS Records ุชููุงุฆูุงู โ 
ุชูุนูู ุงูุฏูููู ุนูู ุงููููุน
```

**ุงููููุงุช ุงููููุฐุฉ**:
- `src/components/platform/DomainManagement.js` (ููุฒุฉ Link Website)

### 4๏ธโฃ ุงูุฅุฏุงุฑุฉ
```
/portal/domains โ ุนุฑุถ ูุงุฆูุฉ ุงูุฏููููุงุช โ 
(ุชุฌุฏูุฏ / ุฅุฏุงุฑุฉ DNS / ุฑุจุท ุจูููุน / ุฅุญุตุงุฆูุงุช)
```

**ุงููููุงุช ุงููููุฐุฉ**:
- `src/components/platform/DomainManagement.js`
- `src/components/platform/DNSManager.js`

---

## ๐๏ธ ุงููุชุทูุจุงุช ุงููุธูููุฉ (Functional Requirements)

### โ ุงูุจุญุซ
- โ ุฅุฏุฎุงู ุงุณู ุงูุฏูููู
- โ ุงุฎุชูุงุฑ ุงูุงูุชุฏุงุฏ (7 ุงูุชุฏุงุฏุงุช ูุชุงุญุฉ)
- โ ุนุฑุถ (ูุชุงุญ / ุบูุฑ ูุชุงุญ)
- โ ุงูุชุฑุงุญุงุช ุจุฏููุฉ

### โ ุงูุดุฑุงุก
- โ ุณุนุฑ ูุงุถุญ
- โ ูุฏุฉ ุงูุงุดุชุฑุงู (1 ุณูุฉ ุงูุชุฑุงุถูุ ูุงุจู ููุชุนุฏูู)
- โ ุชุฃููุฏ ุงูุทูุจ (ุนุจุฑ ุงูุณูุฉ)

### โณ ุงูุฏูุน (ูุญุชุงุฌ ุชูุงูู)
- โณ ุฏูุน ููุฑู (Moyasar/Stripe)
- โณ ุชุฃููุฏ ุชููุงุฆู
- โณ ูุดู ุงูุฏูุน ูุนูุฏ ุงููุณุชุฎุฏู

### โ ุงูุฑุจุท
- โ ุฅูุดุงุก DNS Records (ูุฏูู ุญุงููุงู)
- โ ุฑุจุท ุงูุฏูููู ุจุงููููุน

### โ ููุญุฉ ุงูุชุญูู
- โ ูุงุฆูุฉ ุงูุฏููููุงุช
- โ ุชุงุฑูุฎ ุงูุงูุชูุงุก
- โ ุฒุฑ ุชุฌุฏูุฏ
- โ DNS ูุชูุฏู (A, AAAA, CNAME, MX, TXT, NS)
- โ ุฅุญุตุงุฆูุงุช (ูุดุทุ ูุงุฑุจ ุนูู ุงูุงูุชูุงุกุ ููุชูู)
- โ ููุงุชุฑ
- โ ุชุฌุฏูุฏ ุชููุงุฆู

---

## ๐๏ธ Database Models ุงููููุฐุฉ

### โ ุงูุฌุฏุงูู ุงูููุดุฃุฉ

1. **domains** โ
   - id, user_id, domain_name, extension, full_domain
   - status, purchase_date, expiry_date, auto_renew
   - provider, provider_domain_id
   - linked_website_id
   - whois_privacy, domain_lock

2. **dns_records** โ
   - id, domain_id
   - record_type, host, value, ttl, priority
   - is_active

3. **domain_transactions** โ
   - id, user_id, domain_id
   - transaction_type, amount, currency
   - payment_method, payment_provider, payment_id
   - payment_status, years_purchased

4. **domain_pricing** โ
   - id, extension
   - purchase_price, renewal_price, transfer_price
   - is_available, is_premium
   - provider, provider_price

5. **domain_notifications** โ
   - id, domain_id, user_id
   - notification_type, title, message
   - is_read, sent_at

6. **websites** โ (ุฅุฐุง ูู ููู ููุฌูุฏุงู)
   - id, user_id, name, type, status
   - subdomain, custom_domain

### โ RLS Policies
- โ ุงููุณุชุฎุฏููู ูุฑูู ุฏููููุงุชูู ููุท
- โ ุงูุฃุฏูู ูุฑูู ุฌููุน ุงูุฏููููุงุช
- โ DNS Records ูุญููุฉ ุญุณุจ ููููุฉ ุงูุฏูููู
- โ ุงููุนุงููุงุช ุฎุงุตุฉ ุจูู ูุณุชุฎุฏู
- โ ุงูุฃุณุนุงุฑ ุนุงูุฉ ูููุฑุงุกุฉ

### โ Triggers & Functions
- โ Auto-update `updated_at`
- โ Auto-set `full_domain`
- โ `create_domain_expiry_notification()` function

### โ Views
- โ `domain_statistics` - ุฅุญุตุงุฆูุงุช ุงูุฏููููุงุช
- โ `domain_revenue_statistics` - ุฅุญุตุงุฆูุงุช ุงูุฅูุฑุงุฏุงุช

---

## ๐จ UI/UX Components ุงููููุฐุฉ

### 1. DomainSearch Component โ
**ุงููุณุงุฑ**: `/domains/search`

**ุงูููุฒุงุช**:
- โ ุญูู ุจุญุซ ูุน validation
- โ ุงุฎุชูุงุฑ ุงูุชุฏุงุฏุงุช ูุชุนุฏุฏุฉ (7 ุงูุชุฏุงุฏุงุช)
- โ ุนุฑุถ ุงููุชุงุฆุฌ ูู ุจุทุงูุงุช ุฌุฐุงุจุฉ
- โ ูุคุดุฑ ุชุญููู
- โ ุงูุชุฑุงุญุงุช ุจุฏููุฉ
- โ ุนุฑุถ ุงูุฃุณุนุงุฑ
- โ ุฅุถุงูุฉ ููุณูุฉ
- โ ุชุตููู responsive

### 2. DomainManagement Component โ
**ุงููุณุงุฑ**: `/portal/domains`

**ุงูููุฒุงุช**:
- โ ุฌุฏูู ุงูุฏููููุงุช
- โ ุฅุญุตุงุฆูุงุช (4 ุจุทุงูุงุช)
- โ ููุงุชุฑ (ุงูููุ ูุดุทุ ูุงุฑุจ ุนูู ุงูุงูุชูุงุกุ ููุชูู)
- โ ุจุญุซ ูุชุฑุชูุจ
- โ ุฅุฌุฑุงุกุงุช ุณุฑูุนุฉ (ุชุฌุฏูุฏุ DNSุ ุฑุจุท)
- โ ุนุฑุถ ุชุงุฑูุฎ ุงูุงูุชูุงุก
- โ ุชูุนูู/ุฅููุงู ุงูุชุฌุฏูุฏ ุงูุชููุงุฆู
- โ ุฑุจุท ุจูููุน (dropdown)
- โ ุญุงูุฉ ุงูุฏูููู (ูุดุทุ ููุชููุ ูุงุฑุจ ุนูู ุงูุงูุชูุงุก)

### 3. DNSManager Component โ
**Modal ูููุตู**

**ุงูููุฒุงุช**:
- โ ูุงุฆูุฉ DNS Records
- โ ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู Records
- โ ุฏุนู ุฌููุน ุงูุฃููุงุน (A, AAAA, CNAME, MX, TXT, NS)
- โ ููุงูุจ ุฌุงูุฒุฉ (ูููุน ููุจุ ุจุฑูุฏุ Cloudflare)
- โ ุฅุนุฏุงุฏุงุช TTL (5 ุฎูุงุฑุงุช)
- โ Priority ููู MX Records
- โ ูุนุงููุฉ ุงูุชุบููุฑุงุช
- โ ุชุตููู modern ูุน animations

---

## ๐ ุงูุชูุงููุงุช (Integrations)

### โณ Domain API (Namecheap)
**ุงูุญุงูุฉ**: ุฌุงูุฒ ููุชูุงูู

**ุงููุทููุจ**:
```env
REACT_APP_NAMECHEAP_API_USER=your_api_user
REACT_APP_NAMECHEAP_API_KEY=your_api_key
REACT_APP_NAMECHEAP_USERNAME=your_username
REACT_APP_NAMECHEAP_CLIENT_IP=your_whitelisted_ip
```

**ุงููุธุงุฆู ุงููุทููุจุฉ**:
- โณ DomainCheck
- โณ DomainCreate
- โณ DomainRenew
- โณ DNSSetHosts

### โณ Payment (Moyasar)
**ุงูุญุงูุฉ**: ุฌุงูุฒ ููุชูุงูู

**ุงููุทููุจ**:
```env
REACT_APP_MOYASAR_API_KEY=your_api_key
REACT_APP_MOYASAR_PUBLISHABLE_KEY=your_publishable_key
```

---

## ๐ MVP Features

### โ ุชู ุชูููุฐูุง
- โ ุจุญุซ ุนู ุฏูููู (.com, .net, .org, .sa, .com.sa, .info, .biz)
- โ ุนุฑุถ ุงูุฃุณุนุงุฑ ูุงูุชููุฑ
- โ ุดุฑุงุก ุฏูููู ุฌุฏูุฏ (UI)
- โ ุฑุจุท ุชููุงุฆู ุจุงููููุน
- โ ููุญุฉ ุชุญูู ุดุงููุฉ
- โ ุนุฑุถ ุชุงุฑูุฎ ุงูุงูุชูุงุก
- โ ุชุฌุฏูุฏ ุงูุฏูููู (UI)
- โ ุฅุฏุงุฑุฉ DNS ูุชูุฏูุฉ
- โ ุฅุญุตุงุฆูุงุช ูููุงุชุฑ
- โ ุชุฌุฏูุฏ ุชููุงุฆู

### โณ ุงููุฑุญูุฉ ุงูุซุงููุฉ
- โณ ุงูุฏูุน ุงููุนูู (Moyasar/Stripe)
- โณ ุงูุชุญูู ุงููุนูู ูู ุงูุชููุฑ (Namecheap API)
- โณ ุชุณุฌูู ุงูุฏูููู ุงููุนูู
- โณ ููู ุฏูููู ูู ูุฒูุฏ ุขุฎุฑ
- โณ WHOIS Privacy
- โณ Email Forwarding
- โณ ุณูู ุฅุนุงุฏุฉ ุจูุน

---

## ๐ ุงููููุงุช ุงููุถุงูุฉ

### Frontend Components
```
src/components/platform/
โโโ DomainSearch.js          โ (ุฌุฏูุฏ)
โโโ DomainManagement.js      โ (ุฌุฏูุฏ)
โโโ DNSManager.js            โ (ุฌุฏูุฏ)
```

### Database Schema
```
supabase_domains_schema.sql  โ (ุฌุฏูุฏ)
```

### Documentation
```
docs/
โโโ domain-feature-implementation.md  โ (ุฌุฏูุฏ)
โโโ DOMAIN_FEATURE_README.md         โ (ุฌุฏูุฏ)
โโโ DOMAIN_QUICK_START.md            โ (ุฌุฏูุฏ)
```

### Routes
```javascript
/domains/search          โ (ุฌุฏูุฏ)
/portal/domains          โ (ุฌุฏูุฏ)
```

### Navbar
```
ุชู ุฅุถุงูุฉ ุฑุงุจุท "ุงูุฏููููุงุช" ูู ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ โ
```

---

## ๐ ุงูุฃูุงู (Security)

### โ Row Level Security (RLS)
- โ ุฌููุน ุงูุฌุฏุงูู ูุญููุฉ ุจู RLS
- โ ุงููุณุชุฎุฏููู ูุฑูู ุจูุงูุงุชูู ููุท
- โ ุงูุฃุฏูู ูุฏููู ุตูุงุญูุงุช ูุงููุฉ
- โ DNS Records ูุญููุฉ ุญุณุจ ููููุฉ ุงูุฏูููู

### โ Validation
- โ Domain name validation (regex)
- โ Input sanitization
- โ SQL injection protection (Supabase)
- โ XSS protection (React)

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ูุงูุชุญูููุงุช

### โ Dashboard Statistics
- โ ุฅุฌูุงูู ุงูุฏููููุงุช
- โ ุงูุฏููููุงุช ุงููุดุทุฉ
- โ ุงูุฏููููุงุช ูุงุฑุจุช ุนูู ุงูุงูุชูุงุก
- โ ุงูุฏููููุงุช ุงูููุชููุฉ

### โ Views ููุชุญูููุงุช
- โ `domain_statistics` - ุฅุญุตุงุฆูุงุช ุนุงูุฉ
- โ `domain_revenue_statistics` - ุฅุญุตุงุฆูุงุช ุงูุฅูุฑุงุฏุงุช

---

## ๐ฏ ุงูุชุณุนูุฑ ุงููุทุจู

| ุงูุงูุชุฏุงุฏ | ุงูุณุนุฑ ุงูุณููู | ุงูุญุงูุฉ |
|---------|--------------|--------|
| .com    | 50 ุฑ.ุณ      | โ     |
| .net    | 55 ุฑ.ุณ      | โ     |
| .org    | 60 ุฑ.ุณ      | โ     |
| .sa     | 150 ุฑ.ุณ     | โ     |
| .com.sa | 100 ุฑ.ุณ     | โ     |
| .info   | 45 ุฑ.ุณ      | โ     |
| .biz    | 50 ุฑ.ุณ      | โ     |

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ููุชุทููุฑ ุงููุญูู
1. โ ุชุดุบูู `supabase_domains_schema.sql`
2. โ ุชุดุบูู ุงููุดุฑูุน: `npm start`
3. โ ุงุฎุชุจุงุฑ ุงูููุฒุงุช

### ููุฅูุชุงุฌ
1. โณ ุงูุญุตูู ุนูู Namecheap API credentials
2. โณ ุงูุญุตูู ุนูู Moyasar API credentials
3. โณ ุฅูุดุงุก Backend API (ุงุฎุชูุงุฑู)
4. โณ ุฅุนุฏุงุฏ Cron Jobs ููุฅุดุนุงุฑุงุช
5. โณ ุงุฎุชุจุงุฑ ุดุงูู
6. โณ Deploy

---

## ๐ ุงูุฏุนู ุงูููู

ูููุณุงุนุฏุฉ ุฃู ุงูุงุณุชูุณุงุฑุงุช:
- ๐ง ุงูุจุฑูุฏ: oooomar123450@gmail.com
- ๐ฑ ุงููุงุชู: +966-55-853-9717
- ๐ ุงููุซุงุฆู: ุฑุงุฌุน ูููุงุช `/docs`

---

## โ ุงูุฎูุงุตุฉ

ุชู ุชูููุฐ **ุฌููุน ูุชุทูุจุงุช MVP** ุจูุฌุงุญ! ๐

**ูุง ุชู ุฅูุฌุงุฒู**:
- โ 3 ููููุงุช React ุฌุฏูุฏุฉ
- โ 6 ุฌุฏุงูู ูุงุนุฏุฉ ุจูุงูุงุช
- โ RLS Policies ูุงููุฉ
- โ Triggers & Functions
- โ 2 Routes ุฌุฏูุฏุฉ
- โ ูุงุฌูุฉ ูุณุชุฎุฏู ุญุฏูุซุฉ ูุฌุฐุงุจุฉ
- โ ุชูุซูู ุดุงูู (3 ูููุงุช)

**ูุง ูุญุชุงุฌ ุชูุงูู ุฎุงุฑุฌู**:
- โณ Namecheap API (ููุชุญูู ูุงูุดุฑุงุก ุงููุนูู)
- โณ Moyasar Payment (ููุฏูุน ุงููุนูู)
- โณ Backend API (ุงุฎุชูุงุฑูุ ููุฃูุงู ุงูุฅุถุงูู)

**ุงูุญุงูุฉ ุงูููุงุฆูุฉ**: โ **MVP Ready ููุงุฎุชุจุงุฑ ุงููุญูู**

---

**ุชุงุฑูุฎ ุงูุฅูุฌุงุฒ**: 2026-01-13
**ุงูุฅุตุฏุงุฑ**: 1.0.0 MVP
**ุงููุทูุฑ**: Omar Hamid Al-Adini
